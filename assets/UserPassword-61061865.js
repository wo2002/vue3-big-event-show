import{_ as k}from"./PageContainer-bc15c389.js";import{E as S}from"./el-button-be61ffd7.js";import{a as V,E as y}from"./el-col-f30fcf16.js";import{E as x,a as U}from"./el-form-item-747f73d0.js";import{E as R}from"./el-input-a7e6c18c.js";import{k as m,m as q,p as C,o as F,e as N,w as r,q as e,s as _,bO as $,x as B}from"./index-aec0bb13.js";/* empty css                   */import"./_baseClone-5745a59e.js";const H={__name:"UserPassword",setup(I){const n=m(),l=m({old_pwd:"",new_pwd:"",re_pwd:""}),i={old_pwd:[{required:!0,message:"请输入密码",trigger:"blur"},{pattern:/^\S{6,15}$/,message:"密码长度必须是6-15位的非空字符串",trigger:"blur"}],new_pwd:[{required:!0,message:"请输入新密码",trigger:"blur"},{pattern:/^\S{6,15}$/,message:"密码长度必须是6-15位的非空字符串",trigger:"blur"},{validator:(u,o,t)=>{o===l.value.old_pwd?t(new Error("原密码和新密码不能一样!")):t()},trigger:"blur"}],re_pwd:[{required:!0,message:"请再次确认新密码",trigger:"blur"},{pattern:/^\S{6,15}$/,message:"密码长度必须是6-15位的非空字符串",trigger:"blur"},{validator:(u,o,t)=>{o!==l.value.new_pwd?t(new Error("新密码和确认再次输入的新密码不一样!")):t()},trigger:"blur"}]},d=q(),w=C(),c=async()=>{n.value.validate()&&(await $(l.value),B.success("密码修改成功"),d.removeToken(),d.setInfo({}),w.push("/login"))},f=()=>{n.value.resetFields()};return(u,o)=>{const t=R,s=x,p=S,g=U,v=V,b=y,E=k;return F(),N(E,{title:"重置密码"},{default:r(()=>[e(b,null,{default:r(()=>[e(v,{span:12},{default:r(()=>[e(g,{model:l.value,rules:i,ref_key:"formRef",ref:n,"label-width":"100px",size:"large"},{default:r(()=>[e(s,{label:"原密码",prop:"old_pwd"},{default:r(()=>[e(t,{modelValue:l.value.old_pwd,"onUpdate:modelValue":o[0]||(o[0]=a=>l.value.old_pwd=a),type:"password"},null,8,["modelValue"])]),_:1}),e(s,{label:"新密码",prop:"new_pwd"},{default:r(()=>[e(t,{modelValue:l.value.new_pwd,"onUpdate:modelValue":o[1]||(o[1]=a=>l.value.new_pwd=a),type:"password"},null,8,["modelValue"])]),_:1}),e(s,{label:"确认新密码",prop:"re_pwd"},{default:r(()=>[e(t,{modelValue:l.value.re_pwd,"onUpdate:modelValue":o[2]||(o[2]=a=>l.value.re_pwd=a),type:"password"},null,8,["modelValue"])]),_:1}),e(s,null,{default:r(()=>[e(p,{onClick:c,type:"primary"},{default:r(()=>[_("修改密码")]),_:1}),e(p,{onClick:f},{default:r(()=>[_("重置")]),_:1})]),_:1})]),_:1},8,["model"])]),_:1})]),_:1})]),_:1})}}};export{H as default};
