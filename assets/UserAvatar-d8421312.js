import{E as y}from"./el-button-a5af04f1.js";import{E as g}from"./el-progress-1a7b4acf.js";/* empty css                */import{k as u,m as E,o as s,e as i,w as a,q as o,a as U,f as r,s as p,bP as w,x,E as b,a_ as f,bQ as S}from"./index-5f7e31e0.js";import{_ as A}from"./PageContainer-58197702.js";/* empty css                   */import{_ as I}from"./_plugin-vue_export-helper-c27b6911.js";import"./_baseClone-ab05be3a.js";import"./isEqual-8d0da0ff.js";const B=["src"],R={__name:"UserAvatar",setup(h){const l=u(),c=E(),t=u(c.user.user_pic),d=n=>{const e=new FileReader;e.readAsDataURL(n.raw),e.onload=()=>{t.value=e.result}},m=async()=>{await w(t.value),x.success("图片更新成功"),await c.getInfo()};return(n,e)=>{const v=b,k=g,_=y;return s(),i(A,{title:"上传头像"},{default:a(()=>[o(k,{class:"avatar-uploader","show-file-list":!1,ref_key:"uploadRef",ref:l,"auto-upload":!1,"on-change":d},{default:a(()=>[t.value?(s(),U("img",{key:0,src:t.value,class:"avatar"},null,8,B)):(s(),i(v,{key:1,class:"avatar-uploader-icon"},{default:a(()=>[o(r(f))]),_:1}))]),_:1},512),o(_,{type:"primary",icon:r(f),onClick:e[0]||(e[0]=C=>l.value.$el.querySelector("input").click())},{default:a(()=>[p("选择图片")]),_:1},8,["icon"]),o(_,{type:"success",icon:r(S),onClick:m},{default:a(()=>[p("上传图片")]),_:1},8,["icon"])]),_:1})}}},Q=I(R,[["__scopeId","data-v-7a37b9f4"]]);export{Q as default};
