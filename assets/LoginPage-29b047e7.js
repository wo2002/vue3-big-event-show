import{E as M}from"./el-button-a5af04f1.js";import{E as R,a as T}from"./el-col-a27087c1.js";import{E as F}from"./el-checkbox-8eed27bf.js";import{E as j,a as A}from"./el-form-item-c1ff04a6.js";import{E as D}from"./el-input-14664d1c.js";import{b as K,i as G,d as P,u as H,c as J,o as p,a as $,e as _,w as a,r as O,f as i,E as Q,g as h,n as S,h as B,_ as W,j as X,k as v,l as Y,m as Z,p as ee,q as e,s as f,t as V,v as se,x as I,y as ae,z as L,A as E,B as oe,C as le}from"./index-5f7e31e0.js";import{_ as te}from"./_plugin-vue_export-helper-c27b6911.js";/* empty css                   */import"./isEqual-8d0da0ff.js";import"./_baseClone-ab05be3a.js";const re=K({type:{type:String,values:["primary","success","warning","info","danger","default"],default:"default"},underline:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1},href:{type:String,default:""},icon:{type:G}}),ne={click:u=>u instanceof MouseEvent},ue=["href"],ie=P({name:"ElLink"}),de=P({...ie,props:re,emits:ne,setup(u,{emit:d}){const s=u,n=H("link"),g=J(()=>[n.b(),n.m(s.type),n.is("disabled",s.disabled),n.is("underline",s.underline&&!s.disabled)]);function k(l){s.disabled||d("click",l)}return(l,b)=>(p(),$("a",{class:S(i(g)),href:l.disabled||!l.href?void 0:l.href,onClick:k},[l.icon?(p(),_(i(Q),{key:0},{default:a(()=>[(p(),_(O(l.icon)))]),_:1})):h("v-if",!0),l.$slots.default?(p(),$("span",{key:1,class:S(i(n).e("inner"))},[B(l.$slots,"default")],2)):h("v-if",!0),l.$slots.icon?B(l.$slots,"icon",{key:2}):h("v-if",!0)],10,ue))}});var pe=W(de,[["__file","/home/runner/work/element-plus/element-plus/packages/components/link/src/link.vue"]]);const fe=X(pe);const U=u=>(oe("data-v-5b63ed3f"),u=u(),le(),u),ce=U(()=>V("h1",null,"注册",-1)),me=U(()=>V("h1",null,"登录",-1)),_e={class:"flex"},ge={__name:"LoginPage",setup(u){const d=v(!0),s=v({username:"",password:"",repassword:""}),n=v(),g=v({username:[{required:!0,message:"请输入用户名",trigger:"change"},{min:4,max:15,message:"字符长度为4-8位",trigger:"change"}],password:[{required:!0,message:"请输入密码",trigger:"change"},{pattern:/^\w{6,15}$/,message:"密码为6-15位数字，字母或下划线",trigger:"change"}],repassword:[{required:!0,message:"请输入密码",trigger:"change"},{pattern:/^\w{6,15}$/,message:"密码为6-15位数字，字母或下划线",trigger:"change"},{validator:(w,o,c)=>{o!==s.value.password&&c(new Error("两次密码不一致")),c()},trigger:"change"}]}),k=async()=>{await n.value.validate(),await se(s.value),I.success("注册成功"),d.value=!1};Y(d,()=>{s.value.username="",s.value.password="",s.value.repassword=""});const l=Z(),b=ee(),N=async()=>{await n.value.validate();const w=await ae(s.value);l.setToken(w.data.token),I.success("登录成功"),b.push("/")};return(w,o)=>{const c=T,t=j,m=D,x=M,y=fe,C=A,q=F,z=R;return p(),_(z,{class:"login-page"},{default:a(()=>[e(c,{span:12,class:"bg"}),e(c,{span:6,offset:3,class:"form"},{default:a(()=>[d.value?(p(),_(C,{key:0,ref_key:"form",ref:n,size:"large",autocomplete:"off",model:s.value,rules:g.value},{default:a(()=>[e(t,null,{default:a(()=>[ce]),_:1}),e(t,{prop:"username"},{default:a(()=>[e(m,{"prefix-icon":i(L),placeholder:"请输入用户名",modelValue:s.value.username,"onUpdate:modelValue":o[0]||(o[0]=r=>s.value.username=r)},null,8,["prefix-icon","modelValue"])]),_:1}),e(t,{prop:"password"},{default:a(()=>[e(m,{"prefix-icon":i(E),type:"password",placeholder:"请输入密码",modelValue:s.value.password,"onUpdate:modelValue":o[1]||(o[1]=r=>s.value.password=r),modelModifiers:{trim:!0}},null,8,["prefix-icon","modelValue"])]),_:1}),e(t,{prop:"repassword"},{default:a(()=>[e(m,{"prefix-icon":i(E),type:"password",placeholder:"请输入再次密码",modelValue:s.value.repassword,"onUpdate:modelValue":o[2]||(o[2]=r=>s.value.repassword=r)},null,8,["prefix-icon","modelValue"])]),_:1}),e(t,null,{default:a(()=>[e(x,{class:"button",type:"primary","auto-insert-space":"",onClick:k},{default:a(()=>[f(" 注册 ")]),_:1})]),_:1}),e(t,{class:"flex"},{default:a(()=>[e(y,{type:"info",underline:!1,onClick:o[3]||(o[3]=r=>d.value=!1)},{default:a(()=>[f(" ← 返回 ")]),_:1})]),_:1})]),_:1},8,["model","rules"])):(p(),_(C,{key:1,ref_key:"form",ref:n,size:"large",autocomplete:"off",model:s.value,rules:g.value},{default:a(()=>[e(t,null,{default:a(()=>[me]),_:1}),e(t,{prop:"username"},{default:a(()=>[e(m,{"prefix-icon":i(L),placeholder:"请输入用户名",modelValue:s.value.username,"onUpdate:modelValue":o[4]||(o[4]=r=>s.value.username=r)},null,8,["prefix-icon","modelValue"])]),_:1}),e(t,{prop:"password"},{default:a(()=>[e(m,{name:"password","prefix-icon":i(E),type:"password",placeholder:"请输入密码",modelValue:s.value.password,"onUpdate:modelValue":o[5]||(o[5]=r=>s.value.password=r)},null,8,["prefix-icon","modelValue"])]),_:1}),e(t,{class:"flex"},{default:a(()=>[V("div",_e,[e(q,null,{default:a(()=>[f("记住我")]),_:1}),e(y,{type:"primary",underline:!1},{default:a(()=>[f("忘记密码？")]),_:1})])]),_:1}),e(t,null,{default:a(()=>[e(x,{class:"button",type:"primary","auto-insert-space":"",onClick:N},{default:a(()=>[f("登录")]),_:1})]),_:1}),e(t,{class:"flex"},{default:a(()=>[e(y,{type:"info",underline:!1,onClick:o[6]||(o[6]=r=>d.value=!0)},{default:a(()=>[f(" 注册 → ")]),_:1})]),_:1})]),_:1},8,["model","rules"]))]),_:1})]),_:1})}}},$e=te(ge,[["__scopeId","data-v-5b63ed3f"]]);export{$e as default};
